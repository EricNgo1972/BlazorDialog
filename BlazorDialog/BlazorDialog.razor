@typeparam ContextType
@inject DialogStates states

@if (Id != null && states.IsShowing.ContainsKey(Id) && states.IsShowing[Id])
{
    if (!IsCustom)
    {
        <div class="blazor-dialog-container">
            <div class="blazor-dialog-content">
                @ChildContent((ContextType)states.Inputs[Id])
            </div>
        </div>
    }
    else
    {
        @ChildContent((ContextType)states.Inputs[Id])
    }
}

@functions{
    [Parameter] protected string Id { get; set; }
    [Parameter] protected RenderFragment<ContextType> ChildContent { get; set; }
    [Parameter] protected bool IsCustom { get; set; }

    protected override void OnInit()
    {
        if (Id == null) throw new ArgumentNullException(nameof(Id));
        states.OnDialogStateChange += StateHasChanged;
    }
}